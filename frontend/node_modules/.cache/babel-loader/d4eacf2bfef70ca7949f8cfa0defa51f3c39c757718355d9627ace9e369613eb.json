{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pakog\\\\Documents\\\\Horarios\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport { AppBar, Toolbar, Typography, Button, Box } from '@mui/material';\nimport { authService } from './services/api';\nimport LoginPage from './pages/LoginPage';\nimport JefeCarreraDashboard from './pages/JefeCarreraDashboard';\nimport SuperusuarioDashboard from './pages/SuperusuarioDashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#1976d2'\n    },\n    secondary: {\n      main: '#dc004e'\n    }\n  }\n});\nfunction App() {\n  _s();\n  var _usuario$carrera;\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [usuario, setUsuario] = useState(null);\n  useEffect(() => {\n    checkAuthentication();\n  }, []);\n  const checkAuthentication = async () => {\n    const authenticated = authService.isAuthenticated();\n    setIsAuthenticated(authenticated);\n    setLoading(false);\n\n    // Aquí podrías hacer una llamada para obtener los datos del usuario actual\n    // Por simplicidad, simulamos datos del usuario\n    if (authenticated) {\n      setUsuario({\n        id: 1,\n        email: 'jefe@universidad.edu',\n        nombre_completo: 'Jefe de Carrera',\n        rol: 'JEFE_CARRERA',\n        id_carrera: 1,\n        carrera: {\n          id: 1,\n          nombre: 'Ingeniería en Sistemas Computacionales'\n        }\n      });\n    }\n  };\n  const handleLogin = () => {\n    setIsAuthenticated(true);\n    checkAuthentication();\n  };\n  const handleLogout = () => {\n    authService.logout();\n    setIsAuthenticated(false);\n    setUsuario(null);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Router, {\n      children: [isAuthenticated && /*#__PURE__*/_jsxDEV(AppBar, {\n        position: \"static\",\n        children: /*#__PURE__*/_jsxDEV(Toolbar, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"div\",\n            sx: {\n              flexGrow: 1\n            },\n            children: [\"SIGAH - \", (usuario === null || usuario === void 0 ? void 0 : (_usuario$carrera = usuario.carrera) === null || _usuario$carrera === void 0 ? void 0 : _usuario$carrera.nombre) || 'Sistema de Horarios']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: usuario === null || usuario === void 0 ? void 0 : usuario.nombre_completo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              color: \"inherit\",\n              onClick: handleLogout,\n              children: \"Cerrar Sesi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: !isAuthenticated ? /*#__PURE__*/_jsxDEV(LoginPage, {\n            onLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: isAuthenticated ? (usuario === null || usuario === void 0 ? void 0 : usuario.rol) === 'JEFE_CARRERA' ? /*#__PURE__*/_jsxDEV(JefeCarreraDashboard, {\n            usuario: usuario\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 19\n          }, this) : (usuario === null || usuario === void 0 ? void 0 : usuario.rol) === 'SUPERUSUARIO' ? /*#__PURE__*/_jsxDEV(SuperusuarioDashboard, {\n            usuario: usuario\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Rol no reconocido\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 22\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"kZEn4FST/1DtFVLaopkEQ+AGQg0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","ThemeProvider","createTheme","CssBaseline","AppBar","Toolbar","Typography","Button","Box","authService","LoginPage","JefeCarreraDashboard","SuperusuarioDashboard","jsxDEV","_jsxDEV","theme","palette","primary","main","secondary","App","_s","_usuario$carrera","isAuthenticated","setIsAuthenticated","loading","setLoading","usuario","setUsuario","checkAuthentication","authenticated","id","email","nombre_completo","rol","id_carrera","carrera","nombre","handleLogin","handleLogout","logout","children","fileName","_jsxFileName","lineNumber","columnNumber","position","variant","component","sx","flexGrow","display","alignItems","gap","color","onClick","path","element","onLogin","to","replace","_c","$RefreshReg$"],"sources":["C:/Users/pakog/Documents/Horarios/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport { AppBar, Toolbar, Typography, Button, Box } from '@mui/material';\r\nimport { authService } from './services/api';\r\nimport LoginPage from './pages/LoginPage';\r\nimport JefeCarreraDashboard from './pages/JefeCarreraDashboard';\r\nimport SuperusuarioDashboard from './pages/SuperusuarioDashboard';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#1976d2',\r\n    },\r\n    secondary: {\r\n      main: '#dc004e',\r\n    },\r\n  },\r\n});\r\n\r\nfunction App() {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [usuario, setUsuario] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    checkAuthentication();\r\n  }, []);\r\n\r\n  const checkAuthentication = async () => {\r\n    const authenticated = authService.isAuthenticated();\r\n    setIsAuthenticated(authenticated);\r\n    setLoading(false);\r\n\r\n    // Aquí podrías hacer una llamada para obtener los datos del usuario actual\r\n    // Por simplicidad, simulamos datos del usuario\r\n    if (authenticated) {\r\n      setUsuario({\r\n        id: 1,\r\n        email: 'jefe@universidad.edu',\r\n        nombre_completo: 'Jefe de Carrera',\r\n        rol: 'JEFE_CARRERA',\r\n        id_carrera: 1,\r\n        carrera: { id: 1, nombre: 'Ingeniería en Sistemas Computacionales' }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleLogin = () => {\r\n    setIsAuthenticated(true);\r\n    checkAuthentication();\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    authService.logout();\r\n    setIsAuthenticated(false);\r\n    setUsuario(null);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Cargando...</div>;\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Router>\r\n        {isAuthenticated && (\r\n          <AppBar position=\"static\">\r\n            <Toolbar>\r\n              <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n                SIGAH - {usuario?.carrera?.nombre || 'Sistema de Horarios'}\r\n              </Typography>\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                <Typography variant=\"body2\">\r\n                  {usuario?.nombre_completo}\r\n                </Typography>\r\n                <Button color=\"inherit\" onClick={handleLogout}>\r\n                  Cerrar Sesión\r\n                </Button>\r\n              </Box>\r\n            </Toolbar>\r\n          </AppBar>\r\n        )}\r\n\r\n        <Routes>\r\n          <Route\r\n            path=\"/login\"\r\n            element={\r\n              !isAuthenticated ? (\r\n                <LoginPage onLogin={handleLogin} />\r\n              ) : (\r\n                <Navigate to=\"/\" replace />\r\n              )\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/\"\r\n            element={\r\n              isAuthenticated ? (\r\n                usuario?.rol === 'JEFE_CARRERA' ? (\r\n                  <JefeCarreraDashboard usuario={usuario} />\r\n                ) : usuario?.rol === 'SUPERUSUARIO' ? (\r\n                  <SuperusuarioDashboard usuario={usuario} />\r\n                ) : (\r\n                  <div>Rol no reconocido</div>\r\n                )\r\n              ) : (\r\n                <Navigate to=\"/login\" replace />\r\n              )\r\n            }\r\n          />\r\n          <Route\r\n            path=\"*\"\r\n            element={<Navigate to=\"/\" replace />}\r\n          />\r\n        </Routes>\r\n      </Router>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}